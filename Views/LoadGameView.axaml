<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:GameAletheiaCross.ViewModels"
             x:Class="GameAletheiaCross.Views.LoadGameView"
             x:DataType="vm:LoadGameViewModel">

    <StackPanel Margin="40"
                Spacing="20"
                HorizontalAlignment="Center"
                VerticalAlignment="Center">

        <TextBlock Text="CARGAR PARTIDA"
                   FontSize="26"
                   FontWeight="Bold"
                   HorizontalAlignment="Center"
                   Foreground="#00D9FF"
                   FontFamily=" "/>

        <!-- Mostrar partidas guardadas -->
        <Border Background="#1a1a2e" 
               BorderBrush="#00D9FF" 
               BorderThickness="2"
               CornerRadius="5"
               Padding="10"
               MaxHeight="400"
               MinWidth="500">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <ItemsControl ItemsSource="{Binding Players}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Button Margin="5"
                                   Padding="15,10"
                                   Background="#0f3460"
                                   Foreground="White"
                                   Command="{Binding $parent[ItemsControl].DataContext.SelectPlayerCommand}"
                                   CommandParameter="{Binding .}"
                                   HorizontalAlignment="Stretch"
                                   HorizontalContentAlignment="Left">
                                <StackPanel Spacing="5">
                                    <TextBlock>
                                        <Run Text="User: " FontSize="14"/>
                                        <Run Text="{Binding Name}" FontSize="16" FontWeight="Bold"/>
                                        <Run Text=" (Nivel " FontSize="12"/>
                                        <Run Text="{Binding CurrentLevel}" FontSize="12" FontWeight="Bold"/>
                                        <Run Text=")" FontSize="12"/>
                                    </TextBlock>
                                    <TextBlock>
                                        <Run Text="Puntos: " FontSize="12"/>
                                        <Run Text="Score: " FontSize="11"/>
                                        <Run Text="{Binding TotalScore}" FontSize="11" FontWeight="Bold"/>
                                        <Run Text=" | Faction: " FontSize="12"/>
                                        <Run Text="{Binding Faction}" FontSize="11"/>
                                    </TextBlock>
                                </StackPanel>
                            </Button>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>

        <TextBlock Text="{Binding Players.Count, StringFormat='Total de partidas: {0}'}"
                   FontSize="12"
                   Foreground="#AAAAAA"
                   HorizontalAlignment="Center"
                   FontFamily=" "/>

        <Button Content="Volver"
                Command="{Binding BackCommand}"
                Width="200"
                Height="50"
                Margin="0,20,0,0"
                HorizontalAlignment="Center"
                Background="#533483"
                Foreground="White"
                FontFamily=" "/>
    </StackPanel>
</UserControl>