<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:GameAletheiaCross.ViewModels"
             x:Class="GameAletheiaCross.Views.RankingView"
             x:DataType="vm:RankingViewModel">

    <Grid>
        <!-- FONDO CON IMAGEN -->
        <Image Source="avares://GameAletheiaCross/Assets/Images/ranked.png"
               Stretch="UniformToFill"
               HorizontalAlignment="Stretch"
               VerticalAlignment="Stretch"
               Opacity="0.5"/>
        
        <!-- OVERLAY OSCURO -->
        <Border Background="#000000" Opacity="0.6"/>
        
        <!-- CONTENIDO -->
        <Border Background="#00000000" Padding="40">
            <Grid RowDefinitions="Auto,*,Auto">
                
                <!-- TÍTULO -->
                <Border Grid.Row="0"
                        Background="#000000DD"
                        Padding="30,15"
                        CornerRadius="10"
                        BorderBrush="#FFD700"
                        BorderThickness="3"
                        HorizontalAlignment="Center"
                        Margin="0,0,0,20">
                    <StackPanel Spacing="5">
                        <TextBlock Text=" RANKING GLOBAL"
                                   FontSize="32"
                                   FontWeight="Bold"
                                   HorizontalAlignment="Center"
                                   Foreground="#FFD700"/>
                        <TextBlock Text="Los 10 mejores hackers de Aletheia"
                                   FontSize="12"
                                   HorizontalAlignment="Center"
                                   Foreground="#AAAAAA"/>
                    </StackPanel>
                </Border>

                <!-- TABLA DE RANKING -->
                <Border Grid.Row="1"
                        Background="#1a1a2eEE" 
                        BorderBrush="#FFD700" 
                        BorderThickness="3"
                        CornerRadius="10"
                        Padding="0"
                        MaxWidth="900">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <StackPanel>
                            
                            <!-- ENCABEZADO -->
                            <Border Background="#0a0a15EE" 
                                    Padding="20,15" 
                                    Margin="0"
                                    BorderBrush="#FFD700"
                                    BorderThickness="0,0,0,2">
                                <Grid ColumnDefinitions="60,*,150,80,120">
                                    <TextBlock Grid.Column="0" Text="POS" FontWeight="Bold" Foreground="#FFD700" FontSize="13"/>
                                    <TextBlock Grid.Column="1" Text="JUGADOR" FontWeight="Bold" Foreground="#FFD700" FontSize="13"/>
                                    <TextBlock Grid.Column="2" Text="FACCIÓN" FontWeight="Bold" Foreground="#FFD700" FontSize="13"/>
                                    <TextBlock Grid.Column="3" Text="NIVEL" FontWeight="Bold" Foreground="#FFD700" FontSize="13"/>
                                    <TextBlock Grid.Column="4" Text="SCORE" FontWeight="Bold" Foreground="#FFD700" FontSize="13" HorizontalAlignment="Right"/>
                                </Grid>
                            </Border>

                            <!-- FILAS DE DATOS -->
                            <ItemsControl ItemsSource="{Binding TopPlayers}">
                                <ItemsControl.ItemTemplate>
                                    <DataTemplate>
                                        <Border Background="#0f3460DD"
                                               BorderBrush="#00AA00"
                                               BorderThickness="0,0,0,1"
                                               Padding="20,15"
                                               Margin="0">
                                            <Border.Styles>
                                                <Style Selector="Border:pointerover">
                                                    <Setter Property="Background" Value="#1a4570DD"/>
                                                </Style>
                                            </Border.Styles>
                                            
                                            <Grid ColumnDefinitions="60,*,150,80,120">
                                                <TextBlock Grid.Column="0" 
                                                         Text="{Binding Medal}" 
                                                         VerticalAlignment="Center"
                                                         FontSize="18" 
                                                         FontWeight="Bold" 
                                                         Foreground="#FFD700" />
                                                
                                                <TextBlock Grid.Column="1" 
                                                         Text="{Binding PlayerName}" 
                                                         VerticalAlignment="Center"
                                                         FontSize="14"
                                                         FontWeight="SemiBold"
                                                         Foreground="White" />
                                                
                                                <Border Grid.Column="2"
                                                       Background="#1a1a2eDD"
                                                       Padding="8,4"
                                                       CornerRadius="4"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center">
                                                    <TextBlock Text="{Binding Faction}" 
                                                             FontSize="11"
                                                             Foreground="#00D9FF" />
                                                </Border>
                                                
                                                <Border Grid.Column="3"
                                                       Background="#00FF8844"
                                                       Padding="8,4"
                                                       CornerRadius="4"
                                                       HorizontalAlignment="Left"
                                                       VerticalAlignment="Center">
                                                    <TextBlock Text="{Binding Level, StringFormat='LVL {0}'}" 
                                                             FontSize="11"
                                                             FontWeight="Bold"
                                                             Foreground="#00FF88" />
                                                </Border>
                                                
                                                <TextBlock Grid.Column="4" 
                                                         Text="{Binding Score, StringFormat='{}{0:N0}'}" 
                                                         VerticalAlignment="Center"
                                                         FontSize="15"
                                                         FontWeight="Bold"
                                                         Foreground="#FFA500"
                                                         HorizontalAlignment="Right" />
                                            </Grid>
                                        </Border>
                                    </DataTemplate>
                                </ItemsControl.ItemTemplate>
                            </ItemsControl>
                        </StackPanel>
                    </ScrollViewer>
                </Border>

                <!-- BOTÓN VOLVER -->
                <Button Grid.Row="2"
                        Content="⬅ VOLVER AL MENÚ"
                        Command="{Binding BackCommand}"
                        Width="240"
                        Height="55"
                        HorizontalAlignment="Center"
                        Margin="0,25,0,0"
                        Background="#533483"
                        Foreground="White"
                        FontWeight="Bold"
                        FontSize="15"
                        CornerRadius="8"
                        BorderBrush="#7744AA"
                        BorderThickness="2">
                    <Button.Styles>
                        <Style Selector="Button:pointerover">
                            <Setter Property="Background" Value="#6644AA"/>
                        </Style>
                    </Button.Styles>
                </Button>
            </Grid>
        </Border>
    </Grid>
</UserControl>