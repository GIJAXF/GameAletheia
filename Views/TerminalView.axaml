<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:GameAletheiaCross.ViewModels"
             x:Class="GameAletheiaCross.Views.TerminalView"
             x:DataType="vm:TerminalViewModel">
    
    <Grid Background="#000000DD">
        <Border Background="#0a0a15" 
                BorderBrush="#00FF00" 
                BorderThickness="3"
                CornerRadius="10"
                Width="900"
                MaxHeight="600"
                Padding="20"
                HorizontalAlignment="Center"
                VerticalAlignment="Center">
            
            <Grid RowDefinitions="Auto,Auto,*,Auto">
                
                <!-- ENCABEZADO -->
                <Border Grid.Row="0" 
                       Background="#1a1a2e" 
                       BorderBrush="#00FF00"
                       BorderThickness="0,0,0,2"
                       Padding="15,10"
                       Margin="0,0,0,15"
                       CornerRadius="5">
                    <StackPanel Orientation="Horizontal" Spacing="10">
                        <TextBlock Text="ðŸ’» TERMINAL ALETHEIA" 
                                 FontSize="18" 
                                 FontWeight="Bold"
                                 Foreground="#00FF00"
                                 VerticalAlignment="Center"/>
                        <TextBlock Text="{Binding PuzzleTitle}" 
                                 FontSize="11" 
                                 Foreground="#AAAAAA"
                                 VerticalAlignment="Center"
                                 Margin="20,0,0,0"/>
                    </StackPanel>
                </Border>
                
                <!-- ESTADÃSTICAS -->
                <Border Grid.Row="1" 
                       Background="#0f3460" 
                       Padding="12,8"
                       Margin="0,0,0,10"
                       CornerRadius="5">
                    <StackPanel Orientation="Horizontal" Spacing="30">
                        <TextBlock FontSize="12" Foreground="White">
                            <Run Text="ðŸ’¡ Pistas: "/>
                            <Run Text="{Binding HintsUsed}" FontWeight="Bold" Foreground="#FFD700"/>
                            <Run Text="/"/>
                            <Run Text="{Binding TotalHints}" FontWeight="Bold"/>
                        </TextBlock>
                        <TextBlock FontSize="12" Foreground="#FFD700" FontWeight="Bold">
                            <Run Text="â­ Puntos: "/>
                            <Run Text="{Binding CurrentPuzzle.Points}"/>
                        </TextBlock>
                    </StackPanel>
                </Border>
                
                <!-- CONTENIDO PRINCIPAL -->
                <Grid Grid.Row="2" ColumnDefinitions="1.2*,*" Margin="0,0,0,15">
                    
                    <!-- EDITOR DE CÃ“DIGO -->
                    <Border Grid.Column="0" 
                           Background="#0F0F0F" 
                           BorderBrush="#00AA00" 
                           BorderThickness="2"
                           CornerRadius="5"
                           Margin="0,0,10,0">
                        <Grid RowDefinitions="Auto,*">
                            <Border Grid.Row="0" 
                                   Background="#1a1a2e" 
                                   Padding="10,6"
                                   BorderBrush="#00AA00"
                                   BorderThickness="0,0,0,1">
                                <TextBlock Text="ðŸ“ EDITOR DE CÃ“DIGO" 
                                         FontSize="11" 
                                         FontWeight="Bold"
                                         Foreground="#00FF88"/>
                            </Border>
                            
                            <ScrollViewer Grid.Row="1" 
                                        VerticalScrollBarVisibility="Auto"
                                        HorizontalScrollBarVisibility="Auto">
                                <TextBox Text="{Binding Code, Mode=TwoWay}"
                                       AcceptsReturn="True"
                                       FontSize="11"
                                       Foreground="#00FF00"
                                       Background="Transparent"
                                       BorderThickness="0"
                                       Padding="15"
                                       TextWrapping="NoWrap"
                                       MinHeight="350"/>
                            </ScrollViewer>
                        </Grid>
                    </Border>
                    
                    <!-- CONSOLA DE OUTPUT -->
                    <Border Grid.Column="1" 
                           Background="#0a0a15" 
                           BorderBrush="#0080FF" 
                           BorderThickness="2"
                           CornerRadius="5">
                        <Grid RowDefinitions="Auto,*">
                            <Border Grid.Row="0" 
                                   Background="#1a1a2e" 
                                   Padding="10,6"
                                   BorderBrush="#0080FF"
                                   BorderThickness="0,0,0,1">
                                <TextBlock Text="ðŸ“Š CONSOLA" 
                                         FontSize="11" 
                                         FontWeight="Bold"
                                         Foreground="#0080FF"/>
                            </Border>
                            
                            <ScrollViewer Grid.Row="1" 
                                        VerticalScrollBarVisibility="Auto"
                                        Padding="12">
                                <TextBlock Text="{Binding Output}" 
                                         FontSize="10"
                                         Foreground="#00D9FF"
                                         TextWrapping="Wrap"
                                         LineHeight="18"/>
                            </ScrollViewer>
                        </Grid>
                    </Border>
                </Grid>
                
                <!-- BOTONES -->
                <Grid Grid.Row="3" ColumnDefinitions="*,*,*,*" ColumnSpacing="10">
                    <Button Grid.Column="0"
                           Content="â–¶ COMPILAR" 
                           Command="{Binding CompileCommand}"
                           Background="#00AA00"
                           Foreground="#000000"
                           Padding="12,10"
                           FontWeight="Bold"
                           FontSize="12"
                           CornerRadius="5"
                           HorizontalAlignment="Stretch"
                           HorizontalContentAlignment="Center"/>
                    
                    <Button Grid.Column="1"
                           Content="ðŸ’¡ PISTA" 
                           Command="{Binding ShowHintCommand}"
                           Background="#0080FF"
                           Foreground="White"
                           Padding="12,10"
                           FontWeight="Bold"
                           FontSize="12"
                           CornerRadius="5"
                           HorizontalAlignment="Stretch"
                           HorizontalContentAlignment="Center"/>
                    
                    <Button Grid.Column="2"
                           Content="ðŸ”„ RESET" 
                           Command="{Binding ResetCodeCommand}"
                           Background="#FF8800"
                           Foreground="White"
                           Padding="12,10"
                           FontWeight="Bold"
                           FontSize="12"
                           CornerRadius="5"
                           HorizontalAlignment="Stretch"
                           HorizontalContentAlignment="Center"/>
                    
                    <Button Grid.Column="3"
                           Content="âœ• CERRAR" 
                           Command="{Binding CloseCommand}"
                           Background="#AA0000"
                           Foreground="White"
                           Padding="12,10"
                           FontWeight="Bold"
                           FontSize="12"
                           CornerRadius="5"
                           HorizontalAlignment="Stretch"
                           HorizontalContentAlignment="Center"/>
                </Grid>
            </Grid>
        </Border>
    </Grid>
</UserControl>